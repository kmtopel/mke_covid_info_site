{% extends "layout.html" %}
{% block nav_element %}
    <li role='presentation' class='dropdown nav-item'>
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"> Submit Resource<span class="caret"></span></a>
        <div class="dropdown-menu" id="navbarCollapse" >
            <form class='nav-item' id="post-resource" action="/" method="POST">
                {{ form.csrf_token }}

                <div class="form-group nav-item">
                    {{ wtf.form_field(form.post_title) }}
                </div>

                <div class="form-group nav-item">
                    {{ wtf.form_field(form.email) }}
                </div>

                <div class="form-group nav-item">
                    {{ wtf.form_field(form.post_type_submit) }}
                </div>

                <div class="form-group nav-item">
                    {{ wtf.form_field(form.link) }}
                </div>

                <div class="form-group nav-item">
                    {{ wtf.form_field(form.description) }}
                </div>

                <div class="form-group nav-item">
                    <input id='post-submit-btn' type="submit" class="btn btn-default btn-dark mb-2" />
                </div>
                <div id='flash-msg-container'>
                    {% with messages = get_flashed_messages() %}
                    {% if messages %}
                    {% for message in messages %}
                    <div class='alert alert-success' id='submit_flash'>
                        <button type='button' class='close' data-dismiss='alert'>&times;</button>
                        {{ message }}
                    </div>
                    {% endfor %}
                    {% else %}
                    {% endif %}
                    {% endwith %}
                </div>
            </form>
        </div>
    </li>
{% endblock nav_element %}
{% block content %}
<div class="container">
    <div id="filter-container" class="row">
        <div class="row">
            <form>
                <div class='form-row'>
                    <div class='col col-sm-2 sb-1'>
                        <select class='selectpicker form-control'>
                            {% for choice in choices %}
                            <option>{{ choice }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class='col col-sm-2 sb-1'>
                        <input type="submit" class="form-control" value="Apply Filter">
                    </div>
                    <div class='col col-sm-2 sb-1'>
                        <select class='selectpicker form-control'>
                            <option> Category</option>
                            <option> Title</option>
                            <option> Date </option>
                        </select>
                    </div>
                    <div class='col col-sm-1 sb-1'>
                        <button><img src= " {{ url_for('static',filename='sort-solid.svg') }} " /></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="forum-container" class='row well well-lg pre-scrollable' style="max-height: 75vh">
        {% for post in data %}
            {% if post.active==1 %}
                <article class= {{ post.post_type }} >
                    <h5>{{ post.post_title }}</h5>
                    <h6> category: <a href= # > {{ post.post_type }} </a> / link: <a href= {{ post.link }} target="#"> {{ post.link }} </a> </h6>
                    <p> {{ post.description }}</p>
                    <h6></a> posted on: {{ post.timestamp.strftime('%m/%d/%Y') }} </h6>
                </article>
            {% endif %}
        {% endfor %}
    </div>

</div>
{{ super() }}
{% endblock content %}
